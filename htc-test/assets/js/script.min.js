document.addEventListener("DOMContentLoaded",(function(){(function(){let e=document.querySelectorAll(".tabs-menu__item"),t=document.querySelectorAll(".tabs"),o=e[0],s=0,a=document.querySelector(".tabs-menu__point"),n=()=>{a.style.width=o.offsetWidth+"px";let t=0;[...e].slice(0,s).forEach(e=>{t+=e.offsetWidth+ +window.getComputedStyle(e).marginRight.match(/\d/g).join("")}),a.style.transform=`translate(${t}px)`},r=a=>{s=a,o=e[s],n(),[...e,...t].forEach(e=>{e.classList.remove("tabs-menu__item--active","tabs--show")}),o.classList.add("tabs-menu__item--active"),t[s].classList.add("tabs--show")};return{init:()=>{o.classList.add("tabs-menu__item--active"),t[s].classList.add("tabs--show"),setTimeout(()=>{n(),a.classList.add("tabs-menu__point--ready")},200),e.forEach((e,t)=>{e.addEventListener("click",()=>{r(t)})})}}})().init();const e=document.querySelector(".scroll"),t=document.querySelector(".scroll-drag"),o=document.querySelector(".chanels"),s=document.querySelector(".chanels-menu");let a=2;t.style.transform="translate( 0, 2px)";let n=e=>(a+=e,a>192?(a=192,t.style.transform="translate( 0,192px)"):a<2?(a=2,t.style.transform="translate( 0,2px)"):void(t.style.transform+="translate( 0,"+e+"px)")),r=e=>{t.style.transform="translate( 0,"+e+"px)"};o.addEventListener("wheel",e=>{let t=e.deltaY.toString().replace(/[0-9]/g,"")+125;n(Number(t))}),t.onmousedown=()=>{let e=e=>{(a<=192&&e.movementY>0||a>=2&&e.movementY<0)&&(n(e.movementY),o.scrollTop+=e.movementY)};s.addEventListener("mousemove",e),document.onmouseup=function(t){s.removeEventListener("mousemove",e),s.onmouseup=null}},t.ondragstart=function(){return!1},e.onclick=t=>{t.target===e&&(t.offsetY>500?(r(t.offsetY-500),o.scrollTop=t.offsetY-500):(r(t.offsetY),o.scrollTop=t.offsetY))};const l=document.querySelector(".header-btn-js"),c=document.querySelector(".modal-wrap"),i=(document.querySelector(".modal-form-js"),document.querySelector(".login-js")),d=document.querySelector(".password-js"),m=document.querySelector(".check-modal"),u=document.querySelector(".modal-btn-js");let v={name:"Константин К.",remember:!1,login:"admin",password:"admin"},p=()=>{const e=document.querySelector(".btn-wrap"),t=document.createElement("input"),o=document.createElement("button");l.classList.toggle("deactive"),o.innerHTML="Выйти",o.classList.add("btn--exit"),t.value=v.name,t.setAttribute("onfocus","this.select()"),t.setAttribute("maxlength","14"),t.classList.add("input-user"),e.append(t),e.append(o),e.classList.toggle("btn-wrap--active"),c.classList.add("modal-wrap--deactive"),t.addEventListener("blur",e=>{if(v.name===t.value)return 1;(e=>{let t=e.value;return/[а-яё]{1,20}/.test(t)?(v.name=t.toLowerCase().split(/\s+/).map(e=>e[0].toUpperCase()+e.substring(1)).join(" ").replace(/(.+) (.).+/,"$1 $2.").replace(/(.+) (.).+ (.).+/,"$1 $2. $3."),!0):!/[0-9]/.test(t)&&void 0})(t)?(t.value=v.name,localStorage.removeItem(v.login),localStorage.setItem(v.login,v.name)):t.value=v.name}),o.addEventListener("click",s=>{t.remove(),o.remove(),localStorage.removeItem(v.login),l.classList.toggle("deactive"),e.classList.remove("btn-wrap--active")})},g=e=>{const t=document.createElement("div");t.classList.add("error"),t.textContent=e,1===c.children.length&&(c.append(t),setTimeout(()=>t.classList.add("error-click"),0),setTimeout(()=>t.classList.remove("error-click"),2500),setTimeout(()=>t.remove(),2600))};l.addEventListener("click",e=>{c.classList.toggle("modal-wrap--deactive")}),c.addEventListener("click",e=>{e.target===c&&c.classList.toggle("modal-wrap--deactive")}),document.addEventListener("keyup",e=>{"Escape"===e.key&&!1===c.classList.contains("modal-wrap--deactive")&&(c.classList.add("modal-wrap--deactive"),function e(){document.removeEventListener("keyup",e)}())}),u.addEventListener("click",e=>{var t,o;t=i.value,o=d.value,t===v.login&&o===v.password&&(m.checked&&localStorage.setItem(v.login,v.name),p()),""===t||""===o?g("Поля логин и пароль обязательны к заполнению"):/^[a-zA-Z1-9]+$/.test(t)?t.length<4||t.length>20?g("В логине должено быть от 4 до 20 символов"):parseInt(t.substr(0,1))?g("Логин должен начинаться с буквы"):(t!==v.login||o!==v.password)&&g("Проверьте правильность введенных данных"):g("В логине должны быть только латинские буквы ")}),function(){for(let e in localStorage)e===v.login&&(v.name=localStorage.getItem(v.login),p())}()}));